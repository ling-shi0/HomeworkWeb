<!DOCTYPE html>
<html lang="en" class="no-js">
<!-- 开始head -->
<head>
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript" defer="defer">
	function addBasePath(){
		//1.得到项目根路径：http://localhost:8080/myproject/
		var curWwwPath = window.document.location.href;
		var pathName = window.document.location.pathname;
		var pos = curWwwPath.indexOf(pathName);
		var localhostPaht = curWwwPath.substring(0,pos);
		var projectName = pathName.substring(0,pathName.substr(1).indexOf('/')+1);
		var realPath = localhostPaht + projectName;
		var basePath = realPath + '/';
		console.log(basePath);
		
		//2.添加根路径到html的base标签中
		var $base = '<base href="' + basePath + '">';
		$('head').prepend($base); //在头部添加
	}
	addBasePath();
</script>
<meta charset="utf-8"/>
<title>教师详细信息</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<!-- 0.最先：引入CSS -->
<!-- 开始全局强制样式 -->
<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css"/>
<!-- 结束全局强制样式 -->
<!-- 开始页级插件样式 -->
<link href="assets/global/plugins/jquery-file-upload/css/jquery.fileupload.css" rel="stylesheet"/>
<link href="assets/global/plugins/jquery-file-upload/css/jquery.fileupload-ui.css" rel="stylesheet"/>
<link href="assets/global/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/fullcalendar/fullcalendar.min.css" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/jqvmap/jqvmap/jqvmap.css" rel="stylesheet" type="text/css"/>
<link href="assets/global/plugins/morris/morris.css" rel="stylesheet" type="text/css">
<!-- 结束页级插件样式 -->
<!-- 开始页面样式 -->
<link href="assets/admin/pages/css/tasks.css" rel="stylesheet" type="text/css"/>
<!-- 结束页面样式 -->
<!-- 开始主题样式 -->
<link href="assets/global/css/components-rounded.css" id="style_components" rel="stylesheet" type="text/css"/>
<link href="assets/global/css/plugins.css" rel="stylesheet" type="text/css"/>
<link href="assets/admin/layout4/css/layout.css" rel="stylesheet" type="text/css"/>
<link href="assets/admin/layout4/css/themes/light.css" rel="stylesheet" type="text/css" id="style_color"/>
<link href="assets/admin/layout4/css/custom.css" rel="stylesheet" type="text/css"/>
<link href="app/img/favicon.ico" rel="shortcut icon" />
<!-- 结束主题样式 -->
</head>
<!-- 结束head -->
<!-- 开始body -->
<body class="page-container-bg-solid">
<!-- 开始导航栏中间可变内容 -->
<div class="row">
	<div class="col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2">
		<!-- 1..开始基本信息 -->
		<div class="portlet light bordered">
			<div class="portlet-title">
				<div class="caption">
					<i class="fa fa-picture"></i>
					<span class="caption-subject font-red-sunglo bold">老师基本信息</span>
				</div>
			</div>
			<div class="portlet-body">
				<div class="list-group">
					<div class="row">
						<!-- 开始左部信息 -->
						<div class="col-md-6 col-sm-12">
							<div class="portlet light bordered">
								<div class="portlet-body">
									<table id="basicLeftMessage" class="table table-bordered table-hover">
										<!-- 此处由JS填写 -->
									</table>
								</div>
							</div>
						</div>
						<!-- 结束左部信息 -->
						<!-- 开始右部信息 -->
						<div class="col-md-6 col-sm-12">
							<div class="portlet light bordered">
								<div style="font-size:15px;margin-left:7px">老师描述</div>
								<div class="portlet-body">
									<table class="table table-bordered table-hover">
										<tbody>
											<tr><td>暂无老师描述</td></tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
						<!-- 结束右部信息 -->
					</div>
				</div>
			</div>
		</div>
		<!-- 1..结束基本信息 -->
		<!-- 2..开始相关信息 -->
		<div class="portlet light bordered">
			<div class="portlet-title">
				<div class="caption">
					<i class="fa fa-picture"></i>
					<span class="caption-subject font-red-sunglo bold">老师相关信息</span>
				</div>
			</div>
			<div class="portlet-body">
				<div class="list-group">
					<div class="row">
						<!-- 开始左部信息 -->
						<div class="col-md-6 col-sm-12">
							<div class="portlet light bordered">
								<div class="portlet-body">
									<table id="relevantLeftMessage" class="table table-bordered table-hover">
										<!-- 此处由JS填写 -->
									</table>
								</div>
							</div>
						</div>
						<!-- 结束左部信息 -->
					</div>
				</div>
			</div>
		</div>
		<!-- 2..结束相关信息 -->
	</div>
</div>
<!-- 结束导航栏中间可变内容 -->

<!-- 9999.最后：引入JS -->
<!-- 开始核心插件 -->
<script src="assets/global/plugins/jquery.min.js" type="text/javascript"></script>
<script src="assets/global/plugins/jquery-migrate.min.js" type="text/javascript"></script>
<script src="assets/global/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
<script src="assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
<script src="assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
<script src="assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
<script src="assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<!-- 结束核心插件 -->
<!-- 开始页级插件 -->
<script src="assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput.js" type="text/javascript"></script>
<script src="assets/global/plugins/jquery-file-upload/js/jquery.fileupload-ui.js"></script>
<script src="assets/global/plugins/jqvmap/jqvmap/jquery.vmap.js" type="text/javascript"></script>
<script src="assets/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.russia.js" type="text/javascript"></script>
<script src="assets/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.world.js" type="text/javascript"></script>
<script src="assets/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.europe.js" type="text/javascript"></script>
<script src="assets/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.germany.js" type="text/javascript"></script>
<script src="assets/global/plugins/jqvmap/jqvmap/maps/jquery.vmap.usa.js" type="text/javascript"></script>
<script src="assets/global/plugins/jqvmap/jqvmap/data/jquery.vmap.sampledata.js" type="text/javascript"></script>
<script src="assets/global/plugins/morris/morris.min.js" type="text/javascript"></script>
<script src="assets/global/plugins/morris/raphael-min.js" type="text/javascript"></script>
<script src="assets/global/plugins/jquery.sparkline.min.js" type="text/javascript"></script>
<!-- 结束页级插件 -->
<!-- 开始页级脚本 -->
<script src="assets/global/scripts/metronic.js" type="text/javascript"></script>
<script src="assets/admin/layout4/scripts/layout.js" type="text/javascript"></script>
<script src="assets/admin/layout2/scripts/quick-sidebar.js" type="text/javascript"></script>
<script src="assets/admin/layout4/scripts/demo.js" type="text/javascript"></script>
<script src="assets/admin/pages/scripts/index3.js" type="text/javascript"></script>
<script src="assets/admin/pages/scripts/tasks.js" type="text/javascript"></script>
<!-- 结束页级脚本 -->
<!-- 开始自定义JS -->
<script type="text/javascript">
/**
 * function:前端页面获取前端页面传来的参数
 */
function GetPar(name) {
	var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
	var r = window.location.search.substr(1).match(reg);
	if(r != null)
		return decodeURIComponent(r[2]);
	return null;
};

/**
 * function:展示老师详细信息
 */
function showTeacherDetail(){
	//1.获得参数
	var tno = GetPar("tno");
	
	//2.将数据写到页面
	$.ajax({
        url: '/HomeWorkWeb/teacher/getTeacherDetail',
        type: 'GET',
        async: false,
        data: {
        	tno: tno
        },
        success: function (response) {
        	//2.1 填写基本信息
        	var basic_l_tr = '';
        	basic_l_tr += '<tbody>';
        	basic_l_tr += '<tr><td>教工号</td><td>' + response.data['tno'] + '</td></tr>';
        	basic_l_tr += '<tr><td>教师名</td><td>' + response.data['tname'] + '</td></tr>';
        	basic_l_tr += '<tr><td>所属学院</td><td>' + response.data['company'] + '</td></tr>';
        	basic_l_tr += '</tbody>';
        	$("#basicLeftMessage").html(basic_l_tr);
        	
        	//2.2 填写相关信息
        	var relevant_l_tr = '';
        	relevant_l_tr += '<tbody>';
        	relevant_l_tr += '<tr><td>所开课程数</td><td>' + response.data['所开课程数'] + '</td></tr>';
        	relevant_l_tr += '</tbody>';
        	$("#relevantLeftMessage").html(relevant_l_tr);
        }
	})
}

/*
 * function:页面加载完成调用
 */
$(document).ready(function () {
	showTeacherDetail(); //展示老师详细信息
});
</script>
</body>
<!-- 结束body -->
</html>